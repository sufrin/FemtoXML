<?xml version="1.0"?>
     <!--
             $Id: build.xml 144 2005-12-29 17:01:59Z sufrin $
     -->
<project        name    ="FemtoXML"
                default ="jar">
                
        <property name="BUILD"  value="CLASS"/>
        <property name="TEST"   value="TEST"/>
        <property name="SRC"    value="."/>
        
        <target name        = "compile" 
                description = "Compile all .java files below ${SRC}"
                depends     = "prepare">
            <depend srcdir ="${SRC}" 
                    destdir="${BUILD}"
                    cache  ="${BUILD}/dependencies"
                    closure= "true"/>
            <javac srcdir    = "${SRC}" 
                   debug     = "true"
                   debuglevel= "lines,vars,source"
                   classpath = "${CLASSPATH}"
                   source    = "1.5"
                   encoding  = "UTF-8"
                   > 
               <compilerarg line="-Xlint:unchecked"/>
               <include name="**/*.java"
               />
            </javac> 
        </target>
        
        <target name = "jar" 
                description  = "Make a self-contained runnable femtoXML.jar in ${BUILD}"
                depends="compile">
            <jar    basedir  ="${BUILD}" 
                    destfile ="${BUILD}/femtoXML.jar"
                    includes = "**/*.class"
                    excludes = ""
                    >                    
               <manifest>
                 <attribute name="Main-Class" value="femtoXML.App"/>
               </manifest>               
           </jar>
        </target>
        
        <target name ="prepare">
                <mkdir dir="${BUILD}"/>
        </target>
        
        <target name ="clean" >
                <delete dir="${BUILD}" />
        </target>
</project>

